(function(){var b=hh.namespace("hhf.modules.shares.public.myShares");b.config={};b.init=function(a){$.extend(b.config,a);$(document).ready(b.documentInit)};b.documentInit=function(){$(".quantity").spinner({max:99,min:0,change:b.updateTotal});$("button.submit").button({icons:{primary:"ui-icon-cart"}});$("#my").validate({submitHandler:function(a){var e=!1;$(".quantity").each(function(){if(0<$(this).val())return e=!0,!1});if(!e)return alert(b.config.lang.alert),!1;a.submit()}});$(".addon-photo").colorbox({photo:!0,
current:b.config.lang.current,previous:b.config.lang.previous,next:b.config.lang.next,close:b.config.lang.close,xhrError:b.config.lang.xhrError,imgError:b.config.lang.imgError});$(".addonCategory").css("max-height","400px");$("#addonCategories").accordion({collapsible:!0,autoHeight:!1,header:"h3"});b.updateTotal()};b.updateTotal=function(a){var e=0,i=!1;if(void 0!==a){var f=$(this),g=parseInt(f.data("unitorderminimum")),h=parseInt(f.val());isNaN(h)&&(h=0);isNaN(g)&&(g=0);0<h&&h<g&&($(a.currentTarget).hasClass("ui-spinner-up")?
f.val(g):f.val(0))}$(".quantity").each(function(){var a=$(this),f=a.data("id"),c=parseInt(a.val(),10);isNaN(c)&&(c=0);a.val(c);if(0<c){1===parseInt(a.data("pendingonorder"),10)&&(i=!0);for(var d=0;d<b.config.addons.length;d++)if(b.config.addons[d].id==f){null!=b.config.addons[d].inventory&&c>b.config.addons[d].inventory&&(c=b.config.addons[d].inventory,a.val(c));e+=b.config.addons[d].price*c;break}}});i?$(".pending-on-order").show("normal"):$(".pending-on-order").hide("normal");$("#total").html(b.formatCurrency(e))};
b.formatCurrency=function(a){a=a.toString().replace(/\$|\,/g,"");isNaN(a)&&(a="0");sign=a==(a=Math.abs(a));a=Math.floor(100*a+0.50000000001);cents=a%100;a=Math.floor(a/100).toString();10>cents&&(cents="0"+cents);for(var b=0;b<Math.floor((a.length-(1+b))/3);b++)a=a.substring(0,a.length-(4*b+3))+","+a.substring(a.length-(4*b+3));return(sign?"":"-")+"$"+a+"."+cents}})();